# 인공지능 개발자 대상 공급망 공격 시도 발견
## Feb 10, 2025
### [보안뉴스](https://www.boannews.com/media/view.asp?idx=135876&page=1&kind=1)
---
<br>

머신러닝 개발 모델 공유 플랫폼 허깅페이스(Hugging Face)에 악성 코드가 유포되고 있다. 피클(Pickle)이라고 하는 파일 직렬화 특성을 악용해 악성 코드를 퍼트리는 전략도 함께 발견됐다.

### 피클(Pickle)
머신러닝 모델 공유 시 사용되는 파일 포맷<br>
공유만을 목적으로 만들어진 포맷이기 때문에 객체 직렬화와 역직렬화 과정에서 파이썬 코드를 실행할 수 있는 취약점이 존재함

### 악성코드 유포 캠페인
허깅페이스의 기본 보안 도구인 피클스캔(Picklescan)은 블랙리스트 기반으로 동작하고 있기 때문에 원래도 미리 정의된 악성요소는 탐지하지 못했다. 또한 피클스캔은 파일 손상 검사를 통과한 경우에만 악성코드 탐지를 시작했다. 즉, 악성코드가 포함된 파일이 손상되어 있으면 악성코드 탐지 자체를 실행하지 않았다.

최근 발견된 악성코드 모두 특정 IP 주소로 연결되는 기능을 갖고있는게 전부였다. 연결 후 공격자가 무엇을 하는지는 아직 알려지지 않아 공격 목적을 알 수 없어 피해 상황 집계도 불가능하다.

결국 이번 공격은 피클 파일 특성과 피클스캔 검사 방식의 차이를 악용한 것이다. <br>
1. 피클스캔
  - 파일 전체 검사 후 손상 여부 확인. 손상 없을 시 세부 검사 진행
  - 즉, **파일을 직접 실행하지 않고 분석하는 방식**
2. 피클
  - 파이썬 직렬화 파일 형식으로, **파일 내 정의된 연산을 순서대로 실행**
  - 손상 부분 만나기 전까지 정상적으로 실행되다가 손상 부분 만나면 중단
3. **공격방식**
  - 피클 파일 앞부분에 악성 코드 삽입 시 피클스캔은 손상 여부 검사 시 이를 탐지하지 못함 -> 직접 실행하기 전까지는 손상된 부분에 악성코드가 있는지 알 수 없음

현재는 악성코드가 포함된 모델은 삭제 됐으며 피클스캔도 개선됐으나 아직은 위험하다는 평이 나오고 있다.
<br>

#Hugging_Face #Pickle #ML_security #malware #malware_distribution #zero_trust #vulnerability